This file is part of MXE. See LICENSE.md for licensing information.

Contains ad hoc patches for cross building.

From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Gregorio Litenstein <g.litenstein@gmail.com>
Date: Wed, 9 Oct 2019 19:01:04 -0300
Subject: [PATCH 1/1] =?UTF-8?q?Don=E2=80=99t=20use=20CHECK=5FCXX=5FSOURCE?=
 =?UTF-8?q?=5FRUNS=20for=20cross-build?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit


diff --git a/CMakeModules/CheckAtomicOps.cmake b/CMakeModules/CheckAtomicOps.cmake
index 1111111..2222222 100644
--- a/CMakeModules/CheckAtomicOps.cmake
+++ b/CMakeModules/CheckAtomicOps.cmake
@@ -29,7 +29,7 @@ ELSE()
        INCLUDE(CheckCXXSourceRuns)
 
        # Do step by step checking,
-       CHECK_CXX_SOURCE_RUNS("
+       CHECK_CXX_SOURCE_COMPILES("
        #include <cstdlib>
 
        int main()
@@ -49,7 +49,7 @@ ELSE()
        }
        " _OPENTHREADS_ATOMIC_USE_GCC_BUILTINS)
 
-       CHECK_CXX_SOURCE_RUNS("
+       CHECK_CXX_SOURCE_COMPILES("
        #include <stdlib.h>
 
        int main(int, const char**)
@@ -69,7 +69,7 @@ ELSE()
        }
        " _OPENTHREADS_ATOMIC_USE_MIPOSPRO_BUILTINS)
 
-       CHECK_CXX_SOURCE_RUNS("
+       CHECK_CXX_SOURCE_COMPILES("
        #include <atomic.h>
        #include <cstdlib>
 
@@ -90,7 +90,7 @@ ELSE()
        }
        " _OPENTHREADS_ATOMIC_USE_SUN)
 
-       CHECK_CXX_SOURCE_RUNS("
+       CHECK_CXX_SOURCE_COMPILES("
        #include <windows.h>
        #include <intrin.h>
        #include <cstdlib>
@@ -119,7 +119,7 @@ ELSE()
        }
        " _OPENTHREADS_ATOMIC_USE_WIN32_INTERLOCKED)
 
-       CHECK_CXX_SOURCE_RUNS("
+       CHECK_CXX_SOURCE_COMPILES("
        #include <libkern/OSAtomic.h>
 
        int main()
diff --git a/CMakeModules/FindPoppler-glib.cmake b/CMakeModules/FindPoppler-glib.cmake
index 1111111..2222222 100644
--- a/CMakeModules/FindPoppler-glib.cmake
+++ b/CMakeModules/FindPoppler-glib.cmake
@@ -15,7 +15,7 @@ IF(PKG_CONFIG_FOUND)
         SET(CMAKE_REQUIRED_INCLUDES ${POPPLER_INCLUDE_DIRS})
 
         # Do step by step checking,
-        CHECK_CXX_SOURCE_RUNS("
+        CHECK_CXX_SOURCE_COMPILES("
         #include <cstdlib>
         #include <poppler.h>
         int main()
