This file is part of MXE. See LICENSE.md for licensing information.

Contains ad hoc patches for cross building.

From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Tony Theodore <tonyt@logyst.com>
Date: Sat, 30 Mar 2019 18:31:54 +1100
Subject: [PATCH 1/1] environ: Fix link error on 64-bit Cygwin.

taken from:
http://lists.gnu.org/archive/html/bug-gnulib/2018-01/msg00087.html

diff --git a/gettext-tools/gnulib-lib/unistd.in.h b/gettext-tools/gnulib-lib/unistd.in.h
index 1111111..2222222 100644
--- a/gettext-tools/gnulib-lib/unistd.in.h
+++ b/gettext-tools/gnulib-lib/unistd.in.h
@@ -401,6 +401,13 @@ _GL_WARN_ON_USE (dup3, "dup3 is unportable - "
 
 
 #if @GNULIB_ENVIRON@
+# if defined __CYGWIN__
+/* The 'environ' variable is defined in a DLL. Therefore its declaration needs
+   the '__declspec(dllimport)' attribute, but the system's <unistd.h> lacks it.
+   This leads to a link error on 64-bit Cygwin when the option
+   -Wl,--disable-auto-import is in use.  */
+_GL_EXTERN_C __declspec(dllimport) char **environ;
+# endif
 # if !@HAVE_DECL_ENVIRON@
 /* Set of environment variables and values.  An array of strings of the form
    "VARIABLE=VALUE", terminated with a NULL.  */
