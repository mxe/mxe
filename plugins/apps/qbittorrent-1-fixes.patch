diff --git a/qbittorrent-3.3.1/configure.ac b/qbittorrent-3.3.1.mingw/configure.ac
index 172072b..88b420e 100644
--- a/qbittorrent-3.3.1/configure.ac
+++ b/qbittorrent-3.3.1.mingw/configure.ac
@@ -261,7 +261,7 @@ AS_IF([test "x$enable_systemd" = "xyes"],
 AC_MSG_NOTICE([Running qmake to generate the makefile...])
 CONFDIR="$( cd "$( dirname "$0" )" && pwd )"
 
-$QT_QMAKE -r [$CONFDIR]/qbittorrent.pro
+$QT_QMAKE -r [$CONFDIR]/qbittorrent.pro "QMAKE_LRELEASE=$QMAKE_LRELEASE" "CONF_LIBS=$LIBS"
 
 ret="$?"
 
diff --git a/qbittorrent-3.3.1/m4/qbittorrent.m4 b/qbittorrent-3.3.1.mingw/m4/qbittorrent.m4
index e104c44..143e934 100644
--- a/qbittorrent-3.3.1/m4/qbittorrent.m4
+++ b/qbittorrent-3.3.1.mingw/m4/qbittorrent.m4
@@ -12,9 +12,9 @@ AC_DEFUN([FIND_QT4],
                                 [QT_QMAKE=`AS_DIRNAME(["$QT_QMAKE"])`])
                  ])
 
-AC_CHECK_FILE([$QT_QMAKE/qmake],
+AS_IF([$QT_QMAKE/qmake],
               [QT_QMAKE="$QT_QMAKE/qmake"],
-              [AC_CHECK_FILE([$QT_QMAKE/qmake-qt4],
+              [AS_IF([$QT_QMAKE/qmake-qt4],
                              [QT_QMAKE="$QT_QMAKE/qmake-qt4"],
                              [QT_QMAKE=""])
               ])
@@ -36,7 +36,7 @@ AC_DEFUN([FIND_QT5],
                                 [host_bins])
                  ])
 
-AC_CHECK_FILE([$QT_QMAKE/qmake],
+AS_IF([$QT_QMAKE/qmake],
               [QT_QMAKE="$QT_QMAKE/qmake"],
               [AC_CHECK_FILE([$QT_QMAKE/qmake-qt5],
                              [QT_QMAKE="$QT_QMAKE/qmake-qt5"],
diff --git a/qbittorrent-3.3.1/src/app/application.cpp b/qbittorrent-3.3.1.mingw/src/app/application.cpp
index 9bdb627..fa7978e 100644
--- a/qbittorrent-3.3.1/src/app/application.cpp
+++ b/qbittorrent-3.3.1.mingw/src/app/application.cpp
@@ -37,7 +37,7 @@
 #ifndef DISABLE_GUI
 #include "gui/guiiconprovider.h"
 #ifdef Q_OS_WIN
-#include <Windows.h>
+#include <windows.h>
 #include <QSharedMemory>
 #include <QSessionManager>
 #endif // Q_OS_WIN
diff --git a/qbittorrent-3.3.1/src/base/bittorrent/torrenthandle.cpp b/qbittorrent-3.3.1.mingw/src/base/bittorrent/torrenthandle.cpp
index de6ca9c..40b2498 100644
--- a/qbittorrent-3.3.1/src/base/bittorrent/torrenthandle.cpp
+++ b/qbittorrent-3.3.1.mingw/src/base/bittorrent/torrenthandle.cpp
@@ -43,7 +43,7 @@
 #include <boost/bind.hpp>
 
 #ifdef Q_OS_WIN
-#include <Windows.h>
+#include <windows.h>
 #endif
 
 #include "base/logger.h"
diff --git a/qbittorrent-3.3.1/src/base/preferences.cpp b/qbittorrent-3.3.1.mingw/src/base/preferences.cpp
index 5900393..190632e 100644
--- a/qbittorrent-3.3.1/src/base/preferences.cpp
+++ b/qbittorrent-3.3.1.mingw/src/base/preferences.cpp
@@ -47,7 +47,7 @@
 #endif
 
 #ifdef Q_OS_WIN
-#include <ShlObj.h>
+#include <shlobj.h>
 #include <winreg.h>
 #endif
 
diff --git a/qbittorrent-3.3.1/src/base/utils/misc.cpp b/qbittorrent-3.3.1.mingw/src/base/utils/misc.cpp
index 3a637b8..7e34f0a 100644
--- a/qbittorrent-3.3.1/src/base/utils/misc.cpp
+++ b/qbittorrent-3.3.1.mingw/src/base/utils/misc.cpp
@@ -48,7 +48,7 @@
 
 #ifdef Q_OS_WIN
 #include <windows.h>
-#include <PowrProf.h>
+#include <powrprof.h>
 const int UNLEN = 256;
 #else
 #include <unistd.h>
diff --git a/qbittorrent-3.3.1/src/gui/powermanagement/powermanagement.cpp b/qbittorrent-3.3.1.mingw/src/gui/powermanagement/powermanagement.cpp
index ec07aa8..c51b229 100644
--- a/qbittorrent-3.3.1/src/gui/powermanagement/powermanagement.cpp
+++ b/qbittorrent-3.3.1.mingw/src/gui/powermanagement/powermanagement.cpp
@@ -40,7 +40,7 @@
 #endif
 
 #ifdef Q_OS_WIN
-#include <Windows.h>
+#include <windows.h>
 #endif
 
 PowerManagement::PowerManagement(QObject *parent) : QObject(parent), m_busy(false)
diff --git a/qbittorrent-3.3.1/winconf-mingw.pri b/qbittorrent-3.3.1.mingw/winconf-mingw.pri
index 0283d23..9d46759 100644
--- a/qbittorrent-3.3.1/winconf-mingw.pri
+++ b/qbittorrent-3.3.1.mingw/winconf-mingw.pri
@@ -20,19 +20,8 @@ CONFIG(debug, debug|release) {
 
 RC_FILE = qbittorrent_mingw.rc
 
-# Adapt the lib names/versions accordingly
-CONFIG(debug, debug|release) {
-  LIBS += libtorrent \
-          libboost_system-mgw45-mt-d-1_47 \
-          libboost_filesystem-mgw45-mt-d-1_47 \
-          libboost_thread-mgw45-mt-d-1_47
-} else {
-  LIBS += libtorrent \
-          libboost_system-mgw45-mt-1_47 \
-          libboost_filesystem-mgw45-mt-1_47 \
-          libboost_thread-mgw45-mt-1_47
-}
+LIBS += $$CONF_LIBS
 
 LIBS += libadvapi32 libshell32 libuser32
-LIBS += libcrypto.dll libssl.dll libwsock32 libws2_32 libz libiconv.dll
+LIBS += libcrypto libssl libwsock32 libws2_32 libz libiconv
 LIBS += libpowrprof
diff --git a/qbittorrent-3.3.1/winconf.pri b/qbittorrent-3.3.1.mingw/winconf.pri
index 73e7921..60c2e6e 100644
--- a/qbittorrent-3.3.1/winconf.pri
+++ b/qbittorrent-3.3.1.mingw/winconf.pri
@@ -9,15 +9,6 @@ INCLUDEPATH += $$quote(C:/qBittorrent/Zlib/include)
 # Point this to the openssl include folder
 INCLUDEPATH += $$quote(C:/qBittorrent/openssl/include)
 
-# Point this to the boost lib folder
-LIBS += $$quote(-LC:/qBittorrent/boost_1_51_0/stage/lib)
-# Point this to the libtorrent lib folder
-LIBS += $$quote(-LC:/qBittorrent/RC_0_16/bin/<path-according-to-the-build-options-chosen>)
-# Point this to the zlib lib folder
-LIBS += $$quote(-LC:/qBittorrent/Zlib/lib)
-# Point this to the openssl lib folder
-LIBS += $$quote(-LC:/qBittorrent/openssl/lib)
-
 # LIBTORRENT DEFINES
 DEFINES += BOOST_ALL_NO_LIB
 DEFINES += BOOST_ASIO_HASH_MAP_BUCKETS=1021
@@ -46,9 +37,4 @@ CONFIG(debug, debug|release) {
 # Enable backtrace support
 CONFIG += strace_win
 
-win32-g++ {
-    include(winconf-mingw.pri)
-}
-else {
-    include(winconf-msvc.pri)
-}
+include(winconf-mingw.pri)
